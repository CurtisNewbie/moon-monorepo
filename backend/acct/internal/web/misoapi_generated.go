// auto generated by misoapi v0.2.0-beta.4 at 2025/07/07 22:46:07 (CST), please do not modify
package web

import (
	"github.com/curtisnewbie/acct/internal/flow"
	"github.com/curtisnewbie/miso/middleware/dbquery"
	"github.com/curtisnewbie/miso/middleware/user-vault/common"
	"github.com/curtisnewbie/miso/miso"
)

func init() {
	miso.HttpPost("/open/api/v1/cashflow/list", miso.AutoHandler(
		func(inb *miso.Inbound, req flow.ListCashFlowReq) (miso.PageRes[flow.ListCashFlowRes], error) {
			return ApiListCashFlows(inb.Rail(), dbquery.GetDB(), common.GetUser(inb.Rail()), req)
		})).
		Extra(miso.ExtraName, "ApiListCashFlows").
		Resource(CodeManageCashflows)

	miso.HttpPost("/open/api/v1/cashflow/import/wechat", miso.ResHandler(
		func(inb *miso.Inbound) (any, error) {
			return nil, ApiImportWechatCashflows(inb, inb.Rail(), dbquery.GetDB(), common.GetUser(inb.Rail()))
		})).
		Extra(miso.ExtraName, "ApiImportWechatCashflows").
		Resource(CodeManageCashflows)

	miso.HttpGet("/open/api/v1/cashflow/list-currency", miso.ResHandler(
		func(inb *miso.Inbound) ([]string, error) {
			return ApiListCurrency(inb.Rail(), dbquery.GetDB(), common.GetUser(inb.Rail()))
		})).
		Extra(miso.ExtraName, "ApiListCurrency").
		Resource(CodeManageCashflows)

	miso.HttpPost("/open/api/v1/cashflow/list-statistics", miso.AutoHandler(
		func(inb *miso.Inbound, req flow.ApiListStatisticsReq) (miso.PageRes[flow.ApiListStatisticsRes], error) {
			return ApiListCashflowStatistics(inb.Rail(), dbquery.GetDB(), common.GetUser(inb.Rail()), req)
		})).
		Extra(miso.ExtraName, "ApiListCashflowStatistics").
		Resource(CodeManageCashflows)

	miso.HttpPost("/open/api/v1/cashflow/plot-statistics", miso.AutoHandler(
		func(inb *miso.Inbound, req flow.ApiPlotStatisticsReq) ([]flow.ApiPlotStatisticsRes, error) {
			return ApiPlotCashflowStatistics(inb.Rail(), dbquery.GetDB(), common.GetUser(inb.Rail()), req)
		})).
		Extra(miso.ExtraName, "ApiPlotCashflowStatistics").
		Resource(CodeManageCashflows)

}
